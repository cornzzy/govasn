#!/bin/bash

# List of IP ranges to block
IP_RANGES=(
	"185.206.92.0/22"
	"185.220.224.0/24"
	"185.220.225.0/24"
	"185.220.227.0/24"
	"185.226.116.0/22"
	"185.228.236.0/24"
	"185.228.237.0/24"
	"185.228.239.0/24"
	"185.231.180.0/22"
	"185.239.104.0/24"
	"185.239.105.0/24"
	"185.239.106.0/23"
	"185.97.116.0/22"
	"188.121.100.0/22"
	"188.121.104.0/22"
	"188.121.108.0/22"
	"188.121.112.0/22"
	"188.121.116.0/22"
	"188.121.120.0/22"
	"188.121.124.0/23"
	"188.121.126.0/24"
	"188.121.127.0/24"
	"188.121.96.0/22"
	"188.213.196.0/22"
	"193.176.240.0/23"
	"193.176.242.0/23"
	"37.152.176.0/21"
	"37.152.184.0/24"
	"37.152.185.0/24"
	"37.152.186.0/23"
	"37.152.188.0/22"
	"37.32.12.0/22"
	"37.32.16.0/24"
	"37.32.17.0/24"
	"37.32.18.0/24"
	"37.32.19.0/24"
	"37.32.20.0/22"
	"37.32.24.0/22"
	"37.32.28.0/22"
	"37.32.4.0/22"
	"37.32.8.0/22"
	"45.82.136.0/23"
	"45.82.138.0/23"
	"5.253.24.0/23"
	"5.253.26.0/23"
	"5.34.192.0/22"
	"5.34.196.0/22"
	"5.34.200.0/22"
	"5.34.204.0/22"
	"94.101.176.0/22"
	"94.101.180.0/23"
	"94.101.182.0/24"
	"94.101.183.0/24"
	"94.101.184.0/22"
	"94.101.188.0/22"
	"94.101.188.0/23"
	"94.101.191.0/24"
	"185.215.232.0/24"
	"185.215.233.0/24"
	"185.215.234.0/24"
	"185.215.235.0/24"
	"185.143.232.0/24"
	"185.143.233.0/24"
	"185.143.234.0/24"
	"185.143.235.0/24"
	"185.220.226.0/24"
	"185.188.104.0/24"
	"185.188.105.0/24"
	"185.188.106.0/24"
	"185.188.107.0/24"
	"62.220.96.0/21"
	"62.220.104.0/22"
	"62.220.120.0/22"
	"62.220.124.0/23"
	"81.12.8.0/22"
	"81.12.12.0/22"
	"81.12.16.0/21"
	"81.12.48.0/23"
	"81.12.59.0/24"
	"87.107.24.0/22"
	"87.107.34.0/23"
	"87.107.42.0/23"
	"87.107.51.0/24"
	"87.107.52.0/23"
	"87.107.68.0/22"
	"87.107.88.0/22"
	"87.107.96.0/22"
	"87.107.116.0/23"
	"87.107.120.0/21"
	"87.107.132.0/22"
	"87.107.173.0/24"
	"185.60.136.0/24"
	"185.60.137.0/24"
	"185.60.138.0/24"
	"185.60.139.0/24"
 	"5.160.10.0/24"
	"185.41.0.0/24"
	"185.41.1.0/24"
	"185.41.2.0/24"
 	"94.101.190.224/28"
)

# Function to block traffic for a given IP range
block_ip_range() {
  local ip_range=$1
  echo "Blocking IP range: $ip_range"

  # Block inbound traffic
  iptables -A INPUT -s $ip_range -j DROP
  iptables -A OUTPUT -d $ip_range -j DROP

  # Block outbound traffic
  iptables -A INPUT -d $ip_range -j DROP
  iptables -A OUTPUT -s $ip_range -j DROP
}

# Iterate over the IP ranges and block them
for ip_range in "${IP_RANGES[@]}"; do
  block_ip_range $ip_range
done

echo "IP ranges blocked successfully."
